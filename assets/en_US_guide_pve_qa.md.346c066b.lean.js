import{_ as e,v as a,b as s,R as t}from"./chunks/framework.70afa331.js";const u=JSON.parse('{"title":"Solve the puzzle","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"en_US/guide/pve_qa.md","filePath":"en_US/guide/pve_qa.md","lastUpdated":1693147296000}'),n={name:"en_US/guide/pve_qa.md"},r=t(`<h1 id="solve-the-puzzle" tabindex="-1">Solve the puzzle <a class="header-anchor" href="#solve-the-puzzle" aria-label="Permalink to &quot;Solve the puzzle&quot;">​</a></h1><h2 id="successful-pve-installation-but-lost-connection-after-reboot" tabindex="-1">Successful PVE Installation but Lost Connection After Reboot <a class="header-anchor" href="#successful-pve-installation-but-lost-connection-after-reboot" aria-label="Permalink to &quot;Successful PVE Installation but Lost Connection After Reboot&quot;">​</a></h2><p>If the machine successfully installs PVE and the web interface is accessible, but loses connection after a reboot, please execute the following commands after a successful PVE installation and before rebooting:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">auto_interface</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">grep</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^auto </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> /etc/network/interfaces </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#C3E88D;"> -v </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^auto lo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;"> </span><span style="color:#FFCB6B;">awk</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{print $2}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;"> </span><span style="color:#FFCB6B;">head</span><span style="color:#C3E88D;"> -n </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-q</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">^post-up /sbin/ethtool</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/network/interfaces</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">then</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">chattr</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/network/interfaces</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">post-up /sbin/ethtool -K </span><span style="color:#A6ACCD;">$auto_interface</span><span style="color:#C3E88D;"> tx off rx off</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/network/interfaces</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">chattr</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/network/interfaces</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">fi</span></span></code></pre></div><p>Then report the rebooted disconnected machine to <a href="https://t.me/spiritlhl_bot" target="_blank" rel="noreferrer">@spiritlhl_bot</a> for the script to be updated and repaired automatically.</p><h2 id="pve-installation-failed" tabindex="-1">PVE Installation Failed <a class="header-anchor" href="#pve-installation-failed" aria-label="Permalink to &quot;PVE Installation Failed&quot;">​</a></h2><p>If you encounter any issues with installing on certain machines, and if you&#39;re in a hurry, you can try using the scripts from the following repository to reinstall as Debian 11 first.</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">bash &lt;(curl -sSL https://raw.githubusercontent.com/leitbogioro/Tools/master/Linux_reinstall/InstallNET.sh) -debian 11 -pwd &#39;oneclickvirt139&#39;</span></span></code></pre></div><p>The system username after dd at this point is <code>root</code>, and the password is <code>oneclickvirt139</code>.</p><p>If you have time or if it&#39;s still not working, please contact <a href="https://t.me/spiritlhl_bot" target="_blank" rel="noreferrer">@spiritlhl_bot</a> for assistance.</p><h2 id="what-to-do-if-you-accidentally-delete-a-nat-mapping-rule" tabindex="-1">What to do if you accidentally delete a NAT mapping rule <a class="header-anchor" href="#what-to-do-if-you-accidentally-delete-a-nat-mapping-rule" aria-label="Permalink to &quot;What to do if you accidentally delete a NAT mapping rule&quot;">​</a></h2><p>Use the following command to map back</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">iptables</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-F</span></span>
<span class="line"><span style="color:#FFCB6B;">iptables</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">filter</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-F</span></span>
<span class="line"><span style="color:#FFCB6B;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">networking</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart</span></span>
<span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">networking.service</span></span>
<span class="line"><span style="color:#FFCB6B;">iptables-save</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">awk</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{if($1==&quot;COMMIT&quot;){delete x}}$1==&quot;-A&quot;?!x[$0]++:1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">iptables-restore</span></span></code></pre></div><h2 id="verified-vps-providers" tabindex="-1">Verified VPS Providers <a class="header-anchor" href="#verified-vps-providers" aria-label="Permalink to &quot;Verified VPS Providers&quot;">​</a></h2><h3 id="vps-providers-offering-kvm-virtualization-with-nat" tabindex="-1">VPS Providers Offering KVM Virtualization with NAT <a class="header-anchor" href="#vps-providers-offering-kvm-virtualization-with-nat" aria-label="Permalink to &quot;VPS Providers Offering KVM Virtualization with NAT&quot;">​</a></h3><p><a href="https://www.interserver.net/r/802990" target="_blank" rel="noreferrer">interserver</a> VPS or dedicated servers</p><p><a href="https://my.frantech.ca/aff.php?aff=5522" target="_blank" rel="noreferrer">frantech</a> Las Vegas Tier 2</p><p><a href="https://www.eugamehost.com/clients/aff.php?aff=194" target="_blank" rel="noreferrer">eugamehost</a> US Phoenix Black Friday Special</p><p><a href="http://amhost.net/vps/?cid=29317" target="_blank" rel="noreferrer">amhost</a> Testing version</p><p><a href="https://m.do.co/c/e9712622ee89" target="_blank" rel="noreferrer">digitalocean</a> Perminu Intel and Regular 4-core versions</p><p><a href="https://hosting.skrime.eu/a/server" target="_blank" rel="noreferrer">skrime</a> Lowest configuration of AMD Ryzen KVM Server</p><p><a href="https://webdock.io/en?maff=wdaff--150" target="_blank" rel="noreferrer">webdock</a> AMD KVM Server</p><p><a href="https://clck.ru/33VQmc" target="_blank" rel="noreferrer">4vps</a> Russian and Greek testing versions</p><p><a href="https://deploy.hostaris.com/" target="_blank" rel="noreferrer">hostaris</a> German version (Note: Issues with the vendor&#39;s system template, IPV6 is not functional, and poor connectivity with Github)</p><p><a href="https://www.adtaq.com/" target="_blank" rel="noreferrer">adtaq</a> Storage KVM server with lowest configuration</p><p><a href="https://www.nocix.net/" target="_blank" rel="noreferrer">nocix</a> Dedicated servers</p><h3 id="vps-providers-offering-nat-with-lxc-virtualization" tabindex="-1">VPS Providers Offering NAT with LXC Virtualization <a class="header-anchor" href="#vps-providers-offering-nat-with-lxc-virtualization" aria-label="Permalink to &quot;VPS Providers Offering NAT with LXC Virtualization&quot;">​</a></h3><p><a href="https://curl.qcloud.com/tPrMnfZm" target="_blank" rel="noreferrer">Tencent Cloud</a> Worry-Free and Student editions</p><p><a href="https://my.spectraip.net/aff.php?aff=35" target="_blank" rel="noreferrer">spectraip</a> KVM servers</p><p><a href="https://www.linode.com/lp/refer/?r=9296554d01ecacaa0be56892fd969b557722becd" target="_blank" rel="noreferrer">Linode</a> Lowest configuration with dedicated CPU</p><p><a href="https://cloud.hosthatch.com/a/2450" target="_blank" rel="noreferrer">hosthatch</a> Special high-configuration servers</p><p><a href="https://hetzner.cloud/?ref=CnWVr0FGneUl" target="_blank" rel="noreferrer">hetzner</a> Cloud servers</p><p><a href="https://cloud.rackdog.com/referral/bx8fms" target="_blank" rel="noreferrer">rackdog</a> Servers with floating IP</p><p><a href="https://www.vultr.com/?ref=9124520-8H" target="_blank" rel="noreferrer">vultr</a> Standard Cloud servers</p><p><a href="https://portal.azure.com/#create/Microsoft.VirtualMachine-ARM" target="_blank" rel="noreferrer">azure</a> Standard machines</p><h3 id="currently-unavailable-or-unsupported-providers" tabindex="-1">Currently Unavailable or Unsupported Providers <a class="header-anchor" href="#currently-unavailable-or-unsupported-providers" aria-label="Permalink to &quot;Currently Unavailable or Unsupported Providers&quot;">​</a></h3><p>OVH</p>`,37),o=[r];function l(p,i,c,h,d,f){return a(),s("div",null,o)}const C=e(n,[["render",l]]);export{u as __pageData,C as default};
