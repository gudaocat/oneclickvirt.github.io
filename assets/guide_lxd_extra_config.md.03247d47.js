import{_ as s,c as a,o as n,a as e}from"./app.8fc4a373.js";const k='{"title":"\u5176\u4ED6\u81EA\u5B9A\u4E49\u914D\u7F6E","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u81EA\u52A8\u914D\u7F6EIPV6\u5730\u5740","slug":"\u81EA\u52A8\u914D\u7F6Eipv6\u5730\u5740"},{"level":2,"title":"\u5C4F\u853D\u5BB9\u6613\u88AB\u6EE5\u7528\u7684\u7AEF\u53E3\u7684\u51FA\u5165\u6D41\u91CF\u4EE5\u5C4F\u853D\u7AEF\u53E3\u548C\u5C4F\u853D\u6EE5\u7528\u5DE5\u5177\u5305","slug":"\u5C4F\u853D\u5BB9\u6613\u88AB\u6EE5\u7528\u7684\u7AEF\u53E3\u7684\u51FA\u5165\u6D41\u91CF\u4EE5\u5C4F\u853D\u7AEF\u53E3\u548C\u5C4F\u853D\u6EE5\u7528\u5DE5\u5177\u5305"},{"level":2,"title":"\u4F7F\u7528screen\u914D\u7F6E\u76D1\u63A7\u5C4F\u853D\u67D0\u4E9B\u8FDB\u7A0B\u7684\u6267\u884C\u9047\u5230\u67D0\u4E9B\u8FDB\u7A0B\u7684\u51FA\u73B0\u76F4\u63A5\u5173\u95ED\u5BB9\u5668","slug":"\u4F7F\u7528screen\u914D\u7F6E\u76D1\u63A7\u5C4F\u853D\u67D0\u4E9B\u8FDB\u7A0B\u7684\u6267\u884C\u9047\u5230\u67D0\u4E9B\u8FDB\u7A0B\u7684\u51FA\u73B0\u76F4\u63A5\u5173\u95ED\u5BB9\u5668"},{"level":2,"title":"\u4E00\u952E\u5B89\u88C5\u5F00lxd\u6BCD\u9E21\u6240\u9700\u8981\u7684\u5E26vnstat\u73AF\u5883\u7684\u5E38\u7528\u9884\u914D\u7F6E\u73AF\u5883","slug":"\u4E00\u952E\u5B89\u88C5\u5F00lxd\u6BCD\u9E21\u6240\u9700\u8981\u7684\u5E26vnstat\u73AF\u5883\u7684\u5E38\u7528\u9884\u914D\u7F6E\u73AF\u5883"},{"level":2,"title":"\u4E00\u952E\u5B89\u88C5\u6BCD\u9E21\u53EF\u89C6\u5316\u64CD\u4F5C\u7684\u9762\u677F","slug":"\u4E00\u952E\u5B89\u88C5\u6BCD\u9E21\u53EF\u89C6\u5316\u64CD\u4F5C\u7684\u9762\u677F"}],"relativePath":"guide/lxd_extra_config.md","lastUpdated":1687092722000}',t={},o=e(`<h1 id="\u5176\u4ED6\u81EA\u5B9A\u4E49\u914D\u7F6E" tabindex="-1">\u5176\u4ED6\u81EA\u5B9A\u4E49\u914D\u7F6E <a class="header-anchor" href="#\u5176\u4ED6\u81EA\u5B9A\u4E49\u914D\u7F6E" aria-hidden="true">#</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>\u4EE5\u4E0B\u7684\u914D\u7F6E\u5B89\u88C5\u4F1A\u52A0\u91CD\u6BCD\u9E21\u7684\u8D1F\u62C5\uFF0C\u975E\u5FC5\u8981\u4E0D\u8981\u5B89\u88C5</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>\u5982\u679C\u662F\u4E2A\u4EBA\u4F7F\u7528\uFF0C\u53EF\u5FFD\u7565\u9632\u6EE5\u7528\u90E8\u5206\u811A\u672C\u7684\u5B89\u88C5</p></div><h2 id="\u81EA\u52A8\u914D\u7F6Eipv6\u5730\u5740" tabindex="-1">\u81EA\u52A8\u914D\u7F6EIPV6\u5730\u5740 <a class="header-anchor" href="#\u81EA\u52A8\u914D\u7F6Eipv6\u5730\u5740" aria-hidden="true">#</a></h2><ul><li>(<em><strong>\u975E\u5FC5\u987B</strong></em>\uFF0C\u4E0D\u4F7F\u7528\u7684\u4E5F\u6CA1\u95EE\u9898)</li><li><strong>\u8BE5\u811A\u672C\u4EC5\u9002\u7528\u4E8E\u6BCD\u9E21\u6709\u7ED9<code>IPV6</code>\u5B50\u7F51\u4E14\u662F<code>/64</code>\u7684\uFF0C\u4E14\u6BCD\u9E21\u7ED1\u5B9A\u4E86\u5B50\u7F51\u7684<code>\u7B2C\u4E00\u4E2AIP</code>\u505A<code>\u6BCD\u9E21\u7684IPV6\u5730\u5740\u6216IPV6\u7684gateway</code></strong></li><li>\u81EA\u52A8\u4E3ALXD\u521B\u5EFA\u7684LXC\u5BB9\u5668\u914D\u7F6E<code>IPV6</code>\u5730\u5740</li><li>\u5DF2\u96C6\u6210\u5230<code>buildone.sh</code>\u4E2D\u53EF\u4F7F\u7528\u53D8\u91CF\u63A7\u5236\u4E14\u65E0\u9700\u4E8B\u5148\u4E0B\u8F7D\uFF0C\u8BE5\u811A\u672C\u53EF\u4E0D\u624B\u52A8\u4F7F\u7528\uFF0C\u5728\u4F7F\u7528<code>buildone.sh</code>\u65F6\u914D\u7F6EY\u5F00\u542F\u5373\u53EF</li></ul><p>\u4E0B\u8F7D\u811A\u672C</p><p>\u56FD\u9645</p><div class="language-bash"><pre><code><span class="token function">curl</span> -L https://raw.githubusercontent.com/spiritLHLS/lxc/main/scripts/build_ipv6_network.sh -o build_ipv6_network.sh <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x build_ipv6_network.sh
</code></pre></div><p>\u56FD\u5185</p><div class="language-shell"><pre><code><span class="token function">curl</span> -L https://ghproxy.com/https://raw.githubusercontent.com/spiritLHLS/lxc/main/scripts/build_ipv6_network.sh -o build_ipv6_network.sh <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x build_ipv6_network.sh
</code></pre></div><p>\u81EA\u52A8\u4E3A\u5BB9\u5668\u914D\u7F6EIPV6\u6620\u5C04\u5730\u5740</p><div class="language-bash"><pre><code><span class="token function">bash</span> build_ipv6_network.sh \u5BB9\u5668\u540D\u79F0
</code></pre></div><p>\u6620\u5C04\u5B8C\u6BD5\u4F1A\u6253\u5370\u4FE1\u606F</p><p>\u793A\u4F8B(\u7ED9test\u5BB9\u5668\u81EA\u52A8\u914D\u7F6EIPV6\u5730\u5740\uFF0C\u914D\u7F6E\u5B8C\u6210\u4F1A\u5199\u5165\u4E00\u4E2Atest_v6\u7684\u6587\u4EF6\u4FE1\u606F)</p><div class="language-bash"><pre><code><span class="token function">bash</span> build_ipv6_network.sh <span class="token builtin class-name">test</span>
</code></pre></div><p>\u5220\u9664\u6240\u6709IPV6\u5DF2\u6620\u5C04\u7684\u89C4\u5219</p><div class="language-bash"><pre><code>ip6tables -t nat -F PREROUTING
ip6tables-legacy -t nat -F PREROUTING
ip6tables-save <span class="token operator">&gt;</span> /etc/iptables/rules.v6
netfilter-persistent save
netfilter-persistent reload
<span class="token function">service</span> netfilter-persistent restart
</code></pre></div><p>\u5378\u8F7DIPV6\u5730\u5740\u7ED1\u5B9A\u7684\u5B88\u62A4\u8FDB\u7A0B\u548C\u5BF9\u5E94\u7684\u6587\u4EF6</p><div class="language-shell"><pre><code>systemctl stop add-ipv6.service
systemctl disable add-ipv6.service
<span class="token function">rm</span> /etc/systemd/system/add-ipv6.service
systemctl daemon-reload
<span class="token function">rm</span> /usr/local/bin/add-ipv6.sh
</code></pre></div><h2 id="\u5C4F\u853D\u5BB9\u6613\u88AB\u6EE5\u7528\u7684\u7AEF\u53E3\u7684\u51FA\u5165\u6D41\u91CF\u4EE5\u5C4F\u853D\u7AEF\u53E3\u548C\u5C4F\u853D\u6EE5\u7528\u5DE5\u5177\u5305" tabindex="-1">\u5C4F\u853D\u5BB9\u6613\u88AB\u6EE5\u7528\u7684\u7AEF\u53E3\u7684\u51FA\u5165\u6D41\u91CF\u4EE5\u5C4F\u853D\u7AEF\u53E3\u548C\u5C4F\u853D\u6EE5\u7528\u5DE5\u5177\u5305 <a class="header-anchor" href="#\u5C4F\u853D\u5BB9\u6613\u88AB\u6EE5\u7528\u7684\u7AEF\u53E3\u7684\u51FA\u5165\u6D41\u91CF\u4EE5\u5C4F\u853D\u7AEF\u53E3\u548C\u5C4F\u853D\u6EE5\u7528\u5DE5\u5177\u5305" aria-hidden="true">#</a></h2><ul><li>(<em><strong>\u975E\u5FC5\u987B</strong></em>\uFF0C\u8BE5\u811A\u672C\u4EC5\u4EC5\u662F\u4E3A\u4E86\u9632\u6B62\u5BB9\u5668\u6EE5\u7528\u65B9\u4FBF\uFF0C\u4E0D\u88C5\u7684\u4E5F\u6CA1\u95EE\u9898)</li><li>\u4E8B\u524D\u9884\u9632</li></ul><p>\u56FD\u9645</p><div class="language-shell"><pre><code><span class="token function">curl</span> -L https://raw.githubusercontent.com/spiritLHLS/lxc/main/scripts/rules.sh -o rules.sh <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x rules.sh <span class="token operator">&amp;&amp;</span> <span class="token function">bash</span> rules.sh
</code></pre></div><p>\u56FD\u5185</p><div class="language-shell"><pre><code><span class="token function">curl</span> -L https://ghproxy.com/https://raw.githubusercontent.com/spiritLHLS/lxc/main/scripts/rules.sh -o rules.sh <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x rules.sh <span class="token operator">&amp;&amp;</span> <span class="token function">bash</span> rules.sh
</code></pre></div><h2 id="\u4F7F\u7528screen\u914D\u7F6E\u76D1\u63A7\u5C4F\u853D\u67D0\u4E9B\u8FDB\u7A0B\u7684\u6267\u884C\u9047\u5230\u67D0\u4E9B\u8FDB\u7A0B\u7684\u51FA\u73B0\u76F4\u63A5\u5173\u95ED\u5BB9\u5668" tabindex="-1">\u4F7F\u7528screen\u914D\u7F6E\u76D1\u63A7\u5C4F\u853D\u67D0\u4E9B\u8FDB\u7A0B\u7684\u6267\u884C\u9047\u5230\u67D0\u4E9B\u8FDB\u7A0B\u7684\u51FA\u73B0\u76F4\u63A5\u5173\u95ED\u5BB9\u5668 <a class="header-anchor" href="#\u4F7F\u7528screen\u914D\u7F6E\u76D1\u63A7\u5C4F\u853D\u67D0\u4E9B\u8FDB\u7A0B\u7684\u6267\u884C\u9047\u5230\u67D0\u4E9B\u8FDB\u7A0B\u7684\u51FA\u73B0\u76F4\u63A5\u5173\u95ED\u5BB9\u5668" aria-hidden="true">#</a></h2><ul><li>\u5982\u9700\u505C\u6B62\u76D1\u63A7\u53EF\u4F7F\u7528<code>screen</code>\u547D\u4EE4\u505C\u6B62<code>lxc_moniter</code>\u8FD9\u4E2A\u540D\u5B57\u7684\u7A97\u53E3\u5E76\u5220\u9664</li><li>(<em><strong>\u975E\u5FC5\u987B</strong></em>\uFF0C\u8BE5\u811A\u672C\u4EC5\u4EC5\u662F\u4E3A\u4E86\u9632\u6B62\u5BB9\u5668\u6EE5\u7528\u65B9\u4FBF\uFF0C\u4E0D\u88C5\u7684\u4E5F\u6CA1\u95EE\u9898)</li><li>\u4E8B\u540E\u505C\u673A</li></ul><p>\u56FD\u9645</p><div class="language-shell"><pre><code><span class="token function">curl</span> -L https://raw.githubusercontent.com/spiritLHLS/lxc/main/scripts/build_monitor.sh -o build_monitor.sh <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x build_monitor.sh <span class="token operator">&amp;&amp;</span> <span class="token function">bash</span> build_monitor.sh
</code></pre></div><p>\u56FD\u5185</p><div class="language-shell"><pre><code><span class="token function">curl</span> -L https://ghproxy.com/https://raw.githubusercontent.com/spiritLHLS/lxc/main/scripts/build_monitor.sh -o build_monitor.sh <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x build_monitor.sh <span class="token operator">&amp;&amp;</span> <span class="token function">bash</span> build_monitor.sh
</code></pre></div><h2 id="\u4E00\u952E\u5B89\u88C5\u5F00lxd\u6BCD\u9E21\u6240\u9700\u8981\u7684\u5E26vnstat\u73AF\u5883\u7684\u5E38\u7528\u9884\u914D\u7F6E\u73AF\u5883" tabindex="-1">\u4E00\u952E\u5B89\u88C5\u5F00lxd\u6BCD\u9E21\u6240\u9700\u8981\u7684\u5E26vnstat\u73AF\u5883\u7684\u5E38\u7528\u9884\u914D\u7F6E\u73AF\u5883 <a class="header-anchor" href="#\u4E00\u952E\u5B89\u88C5\u5F00lxd\u6BCD\u9E21\u6240\u9700\u8981\u7684\u5E26vnstat\u73AF\u5883\u7684\u5E38\u7528\u9884\u914D\u7F6E\u73AF\u5883" aria-hidden="true">#</a></h2><ul><li>(<em><strong>\u975E\u5FC5\u987B</strong></em>\uFF0C\u8BE5\u811A\u672C\u4EC5\u4EC5\u662F\u4E3A\u4E86\u7AD9\u70B9\u5BF9\u63A5\u76D1\u63A7\u65B9\u4FBF\uFF0C\u4E0D\u88C5\u7684\u4E5F\u6CA1\u95EE\u9898)</li></ul><p>\u56FD\u9645</p><div class="language-shell"><pre><code><span class="token function">curl</span> -L https://raw.githubusercontent.com/spiritLHLS/lxc/main/scripts/backend.sh -o backend.sh <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x backend.sh <span class="token operator">&amp;&amp;</span> <span class="token function">bash</span> backend.sh
</code></pre></div><p>\u56FD\u5185</p><div class="language-shell"><pre><code><span class="token function">curl</span> -L https://ghproxy.com/https://raw.githubusercontent.com/spiritLHLS/lxc/main/scripts/backend.sh -o backend.sh <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x backend.sh <span class="token operator">&amp;&amp;</span> <span class="token function">bash</span> backend.sh
</code></pre></div><h2 id="\u4E00\u952E\u5B89\u88C5\u6BCD\u9E21\u53EF\u89C6\u5316\u64CD\u4F5C\u7684\u9762\u677F" tabindex="-1">\u4E00\u952E\u5B89\u88C5\u6BCD\u9E21\u53EF\u89C6\u5316\u64CD\u4F5C\u7684\u9762\u677F <a class="header-anchor" href="#\u4E00\u952E\u5B89\u88C5\u6BCD\u9E21\u53EF\u89C6\u5316\u64CD\u4F5C\u7684\u9762\u677F" aria-hidden="true">#</a></h2><ul><li>(<em><strong>\u975E\u5FC5\u987B</strong></em>\uFF0C\u8BE5\u9762\u677F\u53EA\u662F\u4E3A\u4E86\u65B9\u4FBF\u53EF\u89C6\u5316\u64CD\u4F5C\uFF0C\u6CA1\u6709\u4E5F\u6CA1\u95EE\u9898)</li><li>\u539F\u4F5C\u8005\u4ED3\u5E93\uFF1A<a href="https://github.com/turtle0x1/LxdMosaic" target="_blank" rel="noopener noreferrer">\u8DF3\u8F6C</a></li></ul><div class="language-shell"><pre><code>lxc config <span class="token builtin class-name">set</span> core.https_address <span class="token punctuation">[</span>::<span class="token punctuation">]</span>
lxc config <span class="token builtin class-name">set</span> core.trust_password some-secret-string
snap <span class="token function">install</span> lxdmosaic
</code></pre></div><p>\u5B89\u88C5\u5B8C\u6BD5\u540E\u6253\u5F00\u6BCD\u9E21IP\u5730\u5740\uFF0C\u6309\u7167\u63D0\u793A\u8BBE\u7F6Eadmin\u7684\u5BC6\u7801\uFF0C\u5176\u4ED6\u4E00\u8DEF\u9ED8\u8BA4\u5C31\u80FD\u4F7F\u7528\u9762\u677F\u4E86</p>`,41),p=[o];function c(l,i,r,d,u,h){return n(),a("div",null,p)}var b=s(t,[["render",c]]);export{k as __pageData,b as default};
